<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="GSD" namespace="GSD.Models">
	<class name="Todo" table="todos">
		<id name="Id" generator="native" />

		<property name="Summary" />
		<property name="Details" />
		<property name="Done" />

		<many-to-one name="Project" class="Project" />

		<bag name="Tags" table="TodoTags">
			<key column="Todo" />
			<many-to-many class="Tag" column="Tag" />
		</bag>
	</class>

	<class name="Tag" table="tags">
		<id name="Id" generator="native" />

		<property name="Name" />
		<property name="Color" length="6" />

		<many-to-one name="Project" class="Project" />

		<bag name="Todos" table="TodoTags">
			<key column="Tag" />
			<many-to-many class="Todo" column="Todo" />
		</bag>
	</class>

	<class name="Project" table="projects">
		<id name="Id" generator="native" />

		<property name="Name" />

		<bag name="Tags">
			<key column="Project" />

			<one-to-many class="Tag" />
		</bag>

		<bag name="Todos">
			<key column="Project" />

			<one-to-many class="Todo" />
		</bag>
	</class>
</hibernate-mapping>